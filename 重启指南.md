# ⏰ 任务管理平台 - 重启操作指南

## 🚀 快速重启

一键重启前后端服务：

```bash
./restart.sh
```

## 📋 常用命令

| 命令 | 功能 | 说明 |
|------|------|------|
| `./restart.sh` | 🚀 重启服务 | 停止现有服务并重新启动 |
| `./stop.sh` | ⏹️ 停止服务 | 安全停止所有服务 |
| `./status.sh` | 🔍 检查状态 | 查看服务运行状态 |
| `./logs.sh all` | 📋 查看日志 | 实时查看所有日志 |

## 🎯 重启脚本特性

### ✅ 自动化处理
- **端口冲突检测**: 自动发现并清理占用端口的进程
- **环境验证**: 检查Python虚拟环境和Node.js
- **依赖管理**: 自动检查和安装最新依赖
- **健康检查**: 启动后验证服务可用性

### 🛡️ 错误处理
- **进程清理**: 优雅终止 → 强制终止 → 残留清理
- **启动超时**: 30秒后端，60秒前端超时保护
- **详细日志**: 完整的操作记录和错误诊断

### 📊 状态监控
- **实时反馈**: 彩色输出和进度提示
- **资源监控**: 内存、磁盘使用情况
- **服务验证**: HTTP响应和数据库连接检查

## 🔧 服务信息

| 服务 | 端口 | 访问地址 |
|------|------|----------|
| 前端 | 3000/3001 | http://localhost:3000 |
| 后端 | 5001 | http://localhost:5001 |
| API | 5001 | http://localhost:5001/api |

## 📝 日志查看

```bash
# 查看所有日志
./logs.sh all

# 查看特定日志
./logs.sh backend    # 后端日志
./logs.sh frontend   # 前端日志  
./logs.sh restart    # 重启日志
```

## 🚨 故障排除

### 端口被占用
```bash
# 重启脚本会自动处理，无需手动干预
./restart.sh
```

### 依赖问题
```bash
# 重启脚本会自动检查和安装依赖
./restart.sh

# 手动安装（如需要）
pip install -r requirements.txt
npm install
```

### 服务无响应
```bash
# 1. 检查状态
./status.sh

# 2. 查看日志
./logs.sh backend

# 3. 重启服务
./restart.sh
```

## 💡 最佳实践

1. **定期重启**: 建议每天开始工作前运行 `./restart.sh`
2. **状态检查**: 遇到问题时先运行 `./status.sh` 诊断
3. **日志监控**: 使用 `./logs.sh all` 监控系统运行状态
4. **安全停止**: 下班时运行 `./stop.sh` 释放资源

## 📁 生成文件

| 文件 | 用途 |
|------|------|
| `restart.log` | 重启操作日志 |
| `backend.log` | 后端服务日志 |
| `frontend.log` | 前端服务日志 |
| `.backend.pid` | 后端进程ID |
| `.frontend.pid` | 前端进程ID |

---

**🎉 享受一键重启的便利！** 